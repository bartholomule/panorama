
BUILD_TOP = ..

include ${BUILD_TOP}/Makefile.vars
include ${BUILD_TOP}/Makefile.rules

INSTALL = @INSTALL@

VPATH = @srcdir@

OBJ = box.o \
      circle.o \
      cone.o \
      class_manager.o \
      cylinder.o \
      image_manager.o \
      mesh_object.o \
      phong_triangle.o \
      plane.o \
      plugin_manager.o \
      rectangle.o \
      scene_manager.o \
      sphere.o \
      torus.o \
      triangle.o

all:		${HLAPI_LIB} ${STATIC_HLAPI_LIB}

install:        all
		@echo Installing hlapi lib...
		@@INSTALL@ ${HLAPI_LIB} ${LIB_DIR}
                
${HLAPI_LIB}:	${OBJ}
		@echo Making library ${HLAPI_LIB}...
		@${CXX} -fPIC -shared ${CXXFLAGS} -o ${HLAPI_LIB} ${OBJ}

${STATIC_HLAPI_LIB}:    ${OBJ}
		@echo Making static library ${STATIC_HLAPI_LIB}...
		@ar rcs ${STATIC_HLAPI_LIB} ${OBJ}

clean:
		@rm -f ${OBJ} ${HLAPI_LIB} ${STATIC_HLAPI_LIB}
		@rm -f $ *~ *.bak core

distclean:      clean
		@rm -f Makefile
