
BUILD_TOP = ../..

include ${BUILD_TOP}/Makefile.vars
include ${BUILD_TOP}/Makefile.rules

INSTALL = @INSTALL@
SRC_DIR = @srcdir@

VPATH = ${SRC_DIR}

ifeq (1,@STATIC_LINK@)
LDFLAGS += -ldl
else
LDFLAGS += -L${BUILD_TOP}/llapi -L${BUILD_TOP}/hlapi -lllapi -lhlapi -ldl
endif

EXE = render
OBJ = render.o

all:		${EXE}

install:        all
		@echo Installing program render...
		@@INSTALL_PROGRAM@ ${EXE} ${BIN_DIR}

ifeq (1,@STATIC_LINK@)
${EXE}:		${OBJ}
		@echo Making program ${EXE}...
		@${CXX} ${CXXFLAGS} ${OBJ} ${STATIC_HLAPI_LIB} ${STATIC_LLAPI_LIB} -o $@ ${LDFLAGS}
else
${EXE}:		${OBJ}
		@echo Making program ${EXE}...
		@${CXX} ${CXXFLAGS} ${OBJ} -o $@ ${LDFLAGS}
endif

clean:
		@rm -f ${OBJ} ${EXE}
		@rm -f $ *~ *.bak core

distclean:      clean
		@rm -f Makefile
