
BUILD_TOP = ../..

include ${BUILD_TOP}/Makefile.vars
include @srcdir@/${BUILD_TOP}/Makefile.rules

INSTALL = @INSTALL@
SRC_DIR = @srcdir@

VPATH = ${SRC_DIR}

BISONFLAGS  = --name-prefix='rt_conv_' -dv
LEXFLAGS   += -Prt_conv_
CXXFLAGS   += -O0 -DYYSTYPE=string

EXE = rt_convert
OBJ = parser.o scanner.o rt_convert.o
ALL_FILES = $(strip $(wildcard $(OBJ:%.o=%.cpp)))

all:		${EXE}

install:        all
		@echo Installing program rt_convert...
		@@INSTALL_PROGRAM@ ${EXE} ${BIN_DIR}

ifeq (1,@STATIC_LINK@)
${EXE}:		${OBJ}
		@echo Making program ${EXE}...
		@${CXX} ${CXXFLAGS} ${OBJ} ${STATIC_HLAPI_LIB} ${STATIC_LLAPI_LIB} -o $@ ${LDFLAGS}
else
${EXE}:		${OBJ}
		@echo Making program ${EXE}...
		@${CXX} ${CXXFLAGS} ${OBJ} -o $@ ${LDFLAGS}
endif

clean:
		@rm -f ${OBJ} ${EXE}
		@rm -f $ *~ *.bak core

distclean:      clean
		@rm -f Makefile

include ${BUILD_TOP}/Makefile.deps